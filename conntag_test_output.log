================================================================================
   UNIFORM CLUSTER CONNTAG ANALYSIS TEST - ENHANCED CORRELATION
================================================================================
Start time: 2025-09-09 16:27:17.507
Log file: CONNTAG_ANALYSIS_TEST_1757435237494.log
CONNTAG analysis file: CONNTAG_CORRELATION_1757435237494.txt

TEST OBJECTIVES:
  1. Capture and analyze CONNTAG field for correlation
  2. Compare CONNTAG, CONN, EXTCONN, and APPLTAG relationships
  3. Prove parent-child relationships through CONNTAG
  4. Demonstrate CONNTAG inheritance pattern

CONNTAG Structure Expected:
  MQCT + Handle + QueueManager + Timestamp + APPLTAG
================================================================================

🔑 BASE TRACKING KEY: CONNTAG-1757435237494
   Connection 1 will use: CONNTAG-1757435237494-C1
   Connection 2 will use: CONNTAG-1757435237494-C2

================================================================================

╔══════════════════════════════════════════════════════════════════════════════╗
║                   CREATING CONNECTION 1 - WITH 5 SESSIONS                    ║
╚══════════════════════════════════════════════════════════════════════════════╝

Creating factory for Connection 1...
  ✓ Factory 1 configured with APPLTAG: CONNTAG-1757435237494-C1
  ✓ This APPLTAG will appear in CONNTAG field

Creating Connection 1...
✅ CONNECTION 1 CREATED

📊 CONNECTION 1 DETAILS:
  Connection ID: 414D5143514D312020202020202020208A11C06800A20040
  EXTCONN (QM ID): 414D5143514D31202020202020202020
  Handle: 8A11C06800A20040
  Queue Manager: QM1_2025-09-05_02.13.44                         
  Host: /10.10.10.10
  Port: 443
  APPLTAG: CONNTAG-1757435237494-C1

  🎯 CONNECTION 1 CONNECTED TO: QM1

  📌 PREDICTED CONNTAG PATTERN:
     MQCT + 8A11C06800A20040 + QM1_2025-09-05_02.13.44                          + CONNTAG-1757435237494-C1

✅ Connection 1 started

Creating 5 sessions for Connection 1:
----------------------------------------

  Session 1.1 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A20040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A20040
    Matches parent: ✅ YES (SAME QM)

  Session 1.2 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A20040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A20040
    Matches parent: ✅ YES (SAME QM)

  Session 1.3 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A20040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A20040
    Matches parent: ✅ YES (SAME QM)

  Session 1.4 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A20040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A20040
    Matches parent: ✅ YES (SAME QM)

  Session 1.5 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A20040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A20040
    Matches parent: ✅ YES (SAME QM)

✅ Connection 1 setup complete: 1 parent + 5 sessions = 6 MQ connections
   All should share similar CONNTAG pattern with CONNTAG-1757435237494-C1

================================================================================

╔══════════════════════════════════════════════════════════════════════════════╗
║                   CREATING CONNECTION 2 - WITH 3 SESSIONS                    ║
╚══════════════════════════════════════════════════════════════════════════════╝

Creating factory for Connection 2...
  ✓ Factory 2 configured with APPLTAG: CONNTAG-1757435237494-C2
  ✓ This APPLTAG will appear in CONNTAG field

Creating Connection 2...
✅ CONNECTION 2 CREATED

📊 CONNECTION 2 DETAILS:
  Connection ID: 414D5143514D312020202020202020208A11C06800A80040
  EXTCONN (QM ID): 414D5143514D31202020202020202020
  Handle: 8A11C06800A80040
  Queue Manager: QM1_2025-09-05_02.13.44                         
  Host: /10.10.10.10
  Port: 443
  APPLTAG: CONNTAG-1757435237494-C2

  🎯 CONNECTION 2 CONNECTED TO: QM1

  📌 PREDICTED CONNTAG PATTERN:
     MQCT + 8A11C06800A80040 + QM1_2025-09-05_02.13.44                          + CONNTAG-1757435237494-C2

✅ Connection 2 started

Creating 3 sessions for Connection 2:
----------------------------------------

  Session 2.1 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A80040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A80040
    Matches parent: ✅ YES (SAME QM)

  Session 2.2 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A80040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A80040
    Matches parent: ✅ YES (SAME QM)

  Session 2.3 created
    CONNECTION_ID: 414D5143514D312020202020202020208A11C06800A80040
    EXTCONN: 414D5143514D31202020202020202020
    Handle: 8A11C06800A80040
    Matches parent: ✅ YES (SAME QM)

✅ Connection 2 setup complete: 1 parent + 3 sessions = 4 MQ connections
   All should share similar CONNTAG pattern with CONNTAG-1757435237494-C2

================================================================================

╔══════════════════════════════════════════════════════════════════════════════╗
║                     CONNTAG CORRELATION ANALYSIS SUMMARY                     ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║ CONNTAG STRUCTURE ANALYSIS:                                                 ║
║   Format: MQCT<handle><QM><timestamp><APPLTAG>                             ║
║                                                                              ║
║ CONNECTION 1 CONNTAG COMPONENTS:                                            ║
║   Handle: 8A11C06800A20040                                                  ║
║   Queue Manager: QM1                                                        ║
║   APPLTAG: CONNTAG-1757435237494-C1                                         ║
║   Sessions: All 5 sessions share same CONNTAG pattern                       ║
║                                                                              ║
║ CONNECTION 2 CONNTAG COMPONENTS:                                            ║
║   Handle: 8A11C06800A80040                                                  ║
║   Queue Manager: QM1                                                        ║
║   APPLTAG: CONNTAG-1757435237494-C2                                         ║
║   Sessions: All 3 sessions share same CONNTAG pattern                       ║
║                                                                              ║
║ KEY CORRELATIONS:                                                           ║
║   1. CONNTAG contains APPLTAG for grouping                                  ║
║   2. CONNTAG contains Queue Manager identification                          ║
║   3. All sessions inherit parent's CONNTAG pattern                          ║
║   4. CONNTAG uniquely identifies connection groups                          ║
║                                                                              ║
║ ⚠️  CONNECTIONS ON SAME QM - CONNTAG WILL SHARE QM COMPONENT                ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

================================================================================
IMPORTANT: CONNECTIONS ARE NOW ACTIVE - VERIFY CONNTAG IN MQSC!
================================================================================

📊 MQSC COMMANDS TO VERIFY CONNTAG:
────────────────────────────────────────────────────────────

1. Check CONNTAG for Connection 1:
   docker exec qm1 bash -c "echo 'DIS CONN(*) WHERE(APPLTAG EQ \'CONNTAG-1757435237494-C1\') ALL' | runmqsc QM1" | grep -E "CONN\(|CONNTAG\(|APPLTAG\(|EXTCONN\("

2. Check CONNTAG for Connection 2:
   docker exec qm1 bash -c "echo 'DIS CONN(*) WHERE(APPLTAG EQ \'CONNTAG-1757435237494-C2\') ALL' | runmqsc QM1" | grep -E "CONN\(|CONNTAG\(|APPLTAG\(|EXTCONN\("

3. Compare CONNTAG patterns:
   Look for:
   - CONNTAG containing CONNTAG-1757435237494-C1 for Connection 1
   - CONNTAG containing CONNTAG-1757435237494-C2 for Connection 2
   - All sessions sharing parent's CONNTAG pattern
────────────────────────────────────────────────────────────

🔄 KEEPING CONNECTIONS ALIVE FOR 120 SECONDS...

Use the MQSC commands above to verify CONNTAG correlation
Log files:
  Main log: CONNTAG_ANALYSIS_TEST_1757435237494.log
  CONNTAG analysis: CONNTAG_CORRELATION_1757435237494.txt
  ⏱️  Time remaining: 120 seconds  [████████████████████████████████████████████████████████████]  ⏱️  Time remaining: 119 seconds  [███████████████████████████████████████████████████████████ ]  ⏱️  Time remaining: 118 seconds  [███████████████████████████████████████████████████████████ ]  ⏱️  Time remaining: 117 seconds  [██████████████████████████████████████████████████████████  ]  ⏱️  Time remaining: 116 seconds  [██████████████████████████████████████████████████████████  ]  ⏱️  Time remaining: 115 seconds  [█████████████████████████████████████████████████████████   ]  ⏱️  Time remaining: 114 seconds  [█████████████████████████████████████████████████████████   ]  ⏱️  Time remaining: 113 seconds  [████████████████████████████████████████████████████████    ]  ⏱️  Time remaining: 112 seconds  [████████████████████████████████████████████████████████    ]  ⏱️  Time remaining: 111 seconds  [███████████████████████████████████████████████████████     ]  ⏱️  Time remaining: 110 seconds  [███████████████████████████████████████████████████████     ]  ⏱️  Time remaining: 109 seconds  [██████████████████████████████████████████████████████      ]  ⏱️  Time remaining: 108 seconds  [██████████████████████████████████████████████████████      ]  ⏱️  Time remaining: 107 seconds  [█████████████████████████████████████████████████████       ]  ⏱️  Time remaining: 106 seconds  [█████████████████████████████████████████████████████       ]  ⏱️  Time remaining: 105 seconds  [████████████████████████████████████████████████████        ]  ⏱️  Time remaining: 104 seconds  [████████████████████████████████████████████████████        ]  ⏱️  Time remaining: 103 seconds  [███████████████████████████████████████████████████         ]  ⏱️  Time remaining: 102 seconds  [███████████████████████████████████████████████████         ]  ⏱️  Time remaining: 101 seconds  [██████████████████████████████████████████████████          ]  ⏱️  Time remaining: 100 seconds  [██████████████████████████████████████████████████          ]  ⏱️  Time remaining:  99 seconds  [█████████████████████████████████████████████████           ]  ⏱️  Time remaining:  98 seconds  [█████████████████████████████████████████████████           ]  ⏱️  Time remaining:  97 seconds  [████████████████████████████████████████████████            ]  ⏱️  Time remaining:  96 seconds  [████████████████████████████████████████████████            ]  ⏱️  Time remaining:  95 seconds  [███████████████████████████████████████████████             ]  ⏱️  Time remaining:  94 seconds  [███████████████████████████████████████████████             ]  ⏱️  Time remaining:  93 seconds  [██████████████████████████████████████████████              ]  ⏱️  Time remaining:  92 seconds  [██████████████████████████████████████████████              ]  ⏱️  Time remaining:  91 seconds  [█████████████████████████████████████████████               ]  ⏱️  Time remaining:  90 seconds  [█████████████████████████████████████████████               ]  ⏱️  Time remaining:  89 seconds  [████████████████████████████████████████████                ]  ⏱️  Time remaining:  88 seconds  [████████████████████████████████████████████                ]  ⏱️  Time remaining:  87 seconds  [███████████████████████████████████████████                 ]  ⏱️  Time remaining:  86 seconds  [███████████████████████████████████████████                 ]  ⏱️  Time remaining:  85 seconds  [██████████████████████████████████████████                  ]  ⏱️  Time remaining:  84 seconds  [██████████████████████████████████████████                  ]  ⏱️  Time remaining:  83 seconds  [█████████████████████████████████████████                   ]  ⏱️  Time remaining:  82 seconds  [█████████████████████████████████████████                   ]  ⏱️  Time remaining:  81 seconds  [████████████████████████████████████████                    ]  ⏱️  Time remaining:  80 seconds  [████████████████████████████████████████                    ]  ⏱️  Time remaining:  79 seconds  [███████████████████████████████████████                     ]  ⏱️  Time remaining:  78 seconds  [███████████████████████████████████████                     ]  ⏱️  Time remaining:  77 seconds  [██████████████████████████████████████                      ]  ⏱️  Time remaining:  76 seconds  [██████████████████████████████████████                      ]  ⏱️  Time remaining:  75 seconds  [█████████████████████████████████████                       ]  ⏱️  Time remaining:  74 seconds  [█████████████████████████████████████                       ]  ⏱️  Time remaining:  73 seconds  [████████████████████████████████████                        ]  ⏱️  Time remaining:  72 seconds  [████████████████████████████████████                        ]  ⏱️  Time remaining:  71 seconds  [███████████████████████████████████                         ]  ⏱️  Time remaining:  70 seconds  [███████████████████████████████████                         ]  ⏱️  Time remaining:  69 seconds  [██████████████████████████████████                          ]  ⏱️  Time remaining:  68 seconds  [██████████████████████████████████                          ]  ⏱️  Time remaining:  67 seconds  [█████████████████████████████████                           ]  ⏱️  Time remaining:  66 seconds  [█████████████████████████████████                           ]  ⏱️  Time remaining:  65 seconds  [████████████████████████████████                            ]  ⏱️  Time remaining:  64 seconds  [████████████████████████████████                            ]  ⏱️  Time remaining:  63 seconds  [███████████████████████████████                             ]  ⏱️  Time remaining:  62 seconds  [███████████████████████████████                             ]  ⏱️  Time remaining:  61 seconds  [██████████████████████████████                              ]  ⏱️  Time remaining:  60 seconds  [██████████████████████████████                              ]  ⏱️  Time remaining:  59 seconds  [█████████████████████████████                               ]  ⏱️  Time remaining:  58 seconds  [█████████████████████████████                               ]  ⏱️  Time remaining:  57 seconds  [████████████████████████████                                ]  ⏱️  Time remaining:  56 seconds  [████████████████████████████                                ]  ⏱️  Time remaining:  55 seconds  [███████████████████████████                                 ]  ⏱️  Time remaining:  54 seconds  [███████████████████████████                                 ]  ⏱️  Time remaining:  53 seconds  [██████████████████████████                                  ]  ⏱️  Time remaining:  52 seconds  [██████████████████████████                                  ]  ⏱️  Time remaining:  51 seconds  [█████████████████████████                                   ]  ⏱️  Time remaining:  50 seconds  [█████████████████████████                                   ]  ⏱️  Time remaining:  49 seconds  [████████████████████████                                    ]  ⏱️  Time remaining:  48 seconds  [████████████████████████                                    ]  ⏱️  Time remaining:  47 seconds  [███████████████████████                                     ]  ⏱️  Time remaining:  46 seconds  [███████████████████████                                     ]  ⏱️  Time remaining:  45 seconds  [██████████████████████                                      ]  ⏱️  Time remaining:  44 seconds  [██████████████████████                                      ]  ⏱️  Time remaining:  43 seconds  [█████████████████████                                       ]  ⏱️  Time remaining:  42 seconds  [█████████████████████                                       ]  ⏱️  Time remaining:  41 seconds  [████████████████████                                        ]  ⏱️  Time remaining:  40 seconds  [████████████████████                                        ]  ⏱️  Time remaining:  39 seconds  [███████████████████                                         ]  ⏱️  Time remaining:  38 seconds  [███████████████████                                         ]  ⏱️  Time remaining:  37 seconds  [██████████████████                                          ]  ⏱️  Time remaining:  36 seconds  [██████████████████                                          ]  ⏱️  Time remaining:  35 seconds  [█████████████████                                           ]  ⏱️  Time remaining:  34 seconds  [█████████████████                                           ]  ⏱️  Time remaining:  33 seconds  [████████████████                                            ]  ⏱️  Time remaining:  32 seconds  [████████████████                                            ]  ⏱️  Time remaining:  31 seconds  [███████████████                                             ]  ⏱️  Time remaining:  30 seconds  [███████████████                                             ]  ⏱️  Time remaining:  29 seconds  [██████████████                                              ]  ⏱️  Time remaining:  28 seconds  [██████████████                                              ]  ⏱️  Time remaining:  27 seconds  [█████████████                                               ]  ⏱️  Time remaining:  26 seconds  [█████████████                                               ]  ⏱️  Time remaining:  25 seconds  [████████████                                                ]  ⏱️  Time remaining:  24 seconds  [████████████                                                ]  ⏱️  Time remaining:  23 seconds  [███████████                                                 ]  ⏱️  Time remaining:  22 seconds  [███████████                                                 ]  ⏱️  Time remaining:  21 seconds  [██████████                                                  ]  ⏱️  Time remaining:  20 seconds  [██████████                                                  ]  ⏱️  Time remaining:  19 seconds  [█████████                                                   ]  ⏱️  Time remaining:  18 seconds  [█████████                                                   ]  ⏱️  Time remaining:  17 seconds  [████████                                                    ]  ⏱️  Time remaining:  16 seconds  [████████                                                    ]  ⏱️  Time remaining:  15 seconds  [███████                                                     ]  ⏱️  Time remaining:  14 seconds  [███████                                                     ]  ⏱️  Time remaining:  13 seconds  [██████                                                      ]  ⏱️  Time remaining:  12 seconds  [██████                                                      ]  ⏱️  Time remaining:  11 seconds  [█████                                                       ]  ⏱️  Time remaining:  10 seconds  [█████                                                       ]  ⏱️  Time remaining:   9 seconds  [████                                                        ]  ⏱️  Time remaining:   8 seconds  [████                                                        ]  ⏱️  Time remaining:   7 seconds  [███                                                         ]  ⏱️  Time remaining:   6 seconds  [███                                                         ]  ⏱️  Time remaining:   5 seconds  [██                                                          ]  ⏱️  Time remaining:   4 seconds  [██                                                          ]  ⏱️  Time remaining:   3 seconds  [█                                                           ]  ⏱️  Time remaining:   2 seconds  [█                                                           ]  ⏱️  Time remaining:   1 seconds  [                                                            ]

CLOSING SESSIONS AND CONNECTIONS...
  Connection 1 - Session 1 closed
  Connection 1 - Session 2 closed
  Connection 1 - Session 3 closed
  Connection 1 - Session 4 closed
  Connection 1 - Session 5 closed
  Connection 2 - Session 1 closed
  Connection 2 - Session 2 closed
  Connection 2 - Session 3 closed
  Connection 1 closed
  Connection 2 closed

✅ Test completed!
CONNTAG Analysis Summary:
  - CONNTAG contains APPLTAG for correlation
  - CONNTAG contains Queue Manager identification
  - All child sessions share parent's CONNTAG pattern
  - CONNTAG provides additional correlation beyond EXTCONN


✅ Test completed!
📁 Log files created:
   Main log: CONNTAG_ANALYSIS_TEST_1757435237494.log
   CONNTAG analysis: CONNTAG_CORRELATION_1757435237494.txt
🔑 Tracking Key: CONNTAG-1757435237494

Key findings:
  - CONNTAG provides comprehensive correlation
  - Contains APPLTAG, QM, and handle information
  - All sessions inherit parent's CONNTAG pattern
