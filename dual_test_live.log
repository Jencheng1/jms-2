================================================================================
     DUAL CONNECTION TEST - 2 CONNECTIONS WITH DIFFERENT SESSION COUNTS
================================================================================
Start time: 2025-09-09 14:50:05.993
Log file: DUAL_CONNECTION_TEST_1757429405980.log
Test Configuration:
  - Connection 1: 5 sessions
  - Connection 2: 3 sessions
  - Total Expected MQ Connections: 10 (2 parent + 8 sessions)
================================================================================

🔑 BASE TRACKING KEY: DUAL-1757429405980
   Connection 1 will use: DUAL-1757429405980-C1
   Connection 2 will use: DUAL-1757429405980-C2

================================================================================

STEP 1: CREATING CONNECTION FACTORY
--------------------------------------------------------------------------------
Configuring factory for QM1:
  ✓ Factory configured

================================================================================

╔══════════════════════════════════════════════════════════════════════════════╗
║                        CONNECTION 1 - WITH 5 SESSIONS                        ║
╚══════════════════════════════════════════════════════════════════════════════╝

Setting APPLTAG for Connection 1: DUAL-1757429405980-C1

Creating Connection 1...
✅ CONNECTION 1 CREATED

CONNECTION 1 DETAILS:
  Connection ID: 414D5143514D312020202020202020208A11C06800710040
  Queue Manager: QM1_2025-09-05_02.13.44                         
  Host: /10.10.10.10
  Port: 443
  APPLTAG: DUAL-1757429405980-C1

✅ Connection 1 started

Creating 5 sessions for Connection 1:
----------------------------------------
  Session 1.1 created
    - Session 1.1 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800710040
      Matches parent: ✅ YES
  Session 1.2 created
    - Session 1.2 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800710040
      Matches parent: ✅ YES
  Session 1.3 created
    - Session 1.3 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800710040
      Matches parent: ✅ YES
  Session 1.4 created
    - Session 1.4 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800710040
      Matches parent: ✅ YES
  Session 1.5 created
    - Session 1.5 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800710040
      Matches parent: ✅ YES

✅ Connection 1 setup complete: 1 parent + 5 sessions = 6 MQ connections

================================================================================

╔══════════════════════════════════════════════════════════════════════════════╗
║                        CONNECTION 2 - WITH 3 SESSIONS                        ║
╚══════════════════════════════════════════════════════════════════════════════╝

Setting APPLTAG for Connection 2: DUAL-1757429405980-C2

Creating Connection 2...
✅ CONNECTION 2 CREATED

CONNECTION 2 DETAILS:
  Connection ID: 414D5143514D312020202020202020208A11C06800770040
  Queue Manager: QM1_2025-09-05_02.13.44                         
  Host: /10.10.10.10
  Port: 443
  APPLTAG: DUAL-1757429405980-C2

✅ Connection 2 started

Creating 3 sessions for Connection 2:
----------------------------------------
  Session 2.1 created
    - Session 2.1 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800770040
      Matches parent: ✅ YES
  Session 2.2 created
    - Session 2.2 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800770040
      Matches parent: ✅ YES
  Session 2.3 created
    - Session 2.3 CONNECTION_ID: 414D5143514D312020202020202020208A11C06800770040
      Matches parent: ✅ YES

✅ Connection 2 setup complete: 1 parent + 3 sessions = 4 MQ connections

================================================================================

╔══════════════════════════════════════════════════════════════════════════════╗
║                     DUAL CONNECTION COMPARISON ANALYSIS                      ║
╠══════════════════════════════════════════════════════════════════════════════╣
║                                                                              ║
║ CONNECTION 1:                                                               ║
║   Connection ID: 414D5143514D312020202020202020208A11C06800710040           ║
║   Queue Manager: QM1_2025-09-05_02.13.44                                    ║
║   APPLTAG: DUAL-1757429405980-C1                                            ║
║   Sessions: 5                                                               ║
║   Total MQ Connections: 6 (1 parent + 5 sessions)                          ║
║                                                                              ║
║ CONNECTION 2:                                                               ║
║   Connection ID: 414D5143514D312020202020202020208A11C06800770040           ║
║   Queue Manager: QM1_2025-09-05_02.13.44                                    ║
║   APPLTAG: DUAL-1757429405980-C2                                            ║
║   Sessions: 3                                                               ║
║   Total MQ Connections: 4 (1 parent + 3 sessions)                          ║
║                                                                              ║
║ TOTALS:                                                                     ║
║   Total JMS Connections: 2                                                  ║
║   Total JMS Sessions: 8 (5 + 3)                                            ║
║   Total MQ Connections Expected: 10 (2 parents + 8 sessions)               ║
║                                                                              ║
║ KEY OBSERVATIONS:                                                           ║
║   - Different Connection IDs: ✅ YES (DIFFERENT)                            ║
║   - Both on same QM: ✅ YES (QM1_2025-09-05_02.13.44                         )                                   ║
║   - Different APPLTAGs: ✅ YES                                              ║
║   - Sessions inherit parent CONNECTION_ID: ✅ YES                           ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

================================================================================
IMPORTANT: CONNECTIONS ARE NOW ACTIVE - CHECK MQSC NOW!
================================================================================

📊 MQSC COMMANDS TO VERIFY DUAL CONNECTIONS:
────────────────────────────────────────────────────────────

1. Check ALL connections with base tracking key:
   docker exec qm1 bash -c "echo 'DIS CONN(*) WHERE(APPLTAG LK \'DUAL-1757429405980*\') ALL' | runmqsc QM1"

2. Check Connection 1 only (should show 6 connections):
   docker exec qm1 bash -c "echo 'DIS CONN(*) WHERE(APPLTAG EQ \'DUAL-1757429405980-C1\') ALL' | runmqsc QM1"

3. Check Connection 2 only (should show 4 connections):
   docker exec qm1 bash -c "echo 'DIS CONN(*) WHERE(APPLTAG EQ \'DUAL-1757429405980-C2\') ALL' | runmqsc QM1"

4. Count total connections:
   docker exec qm1 bash -c "echo 'DIS CONN(*) WHERE(APPLTAG LK \'DUAL-1757429405980*\') ALL' | runmqsc QM1" | grep -c "CONN("

5. Show summary by APPLTAG:
   docker exec qm1 bash -c "echo 'DIS CONN(*) WHERE(CHANNEL EQ APP.SVRCONN) ALL' | runmqsc QM1" | grep -E "CONN\(|APPLTAG\("
────────────────────────────────────────────────────────────

================================================================================
EXTENDED CONNECTION DATA CAPTURE
================================================================================

CONNECTION 1 - EXTENDED DATA:
----------------------------------------

CONNECTION 2 - EXTENDED DATA:
----------------------------------------

================================================================================

🔄 KEEPING CONNECTIONS ALIVE FOR 120 SECONDS...

Both connections will stay active so you can verify in MQSC
Detailed debug log being written to: DUAL_CONNECTION_TEST_1757429405980.log
  ⏱️  Time remaining: 120 seconds  [████████████████████████████████████████████████████████████]  ⏱️  Time remaining: 119 seconds  [███████████████████████████████████████████████████████████ ]  ⏱️  Time remaining: 118 seconds  [███████████████████████████████████████████████████████████ ]  ⏱️  Time remaining: 117 seconds  [██████████████████████████████████████████████████████████  ]  ⏱️  Time remaining: 116 seconds  [██████████████████████████████████████████████████████████  ]  ⏱️  Time remaining: 115 seconds  [█████████████████████████████████████████████████████████   ]  ⏱️  Time remaining: 114 seconds  [█████████████████████████████████████████████████████████   ]  ⏱️  Time remaining: 113 seconds  [████████████████████████████████████████████████████████    ]  ⏱️  Time remaining: 112 seconds  [████████████████████████████████████████████████████████    ]  ⏱️  Time remaining: 111 seconds  [███████████████████████████████████████████████████████     ]  ⏱️  Time remaining: 110 seconds  [███████████████████████████████████████████████████████     ]  ⏱️  Time remaining: 109 seconds  [██████████████████████████████████████████████████████      ]  ⏱️  Time remaining: 108 seconds  [██████████████████████████████████████████████████████      ]  ⏱️  Time remaining: 107 seconds  [█████████████████████████████████████████████████████       ]  ⏱️  Time remaining: 106 seconds  [█████████████████████████████████████████████████████       ]  ⏱️  Time remaining: 105 seconds  [████████████████████████████████████████████████████        ]  ⏱️  Time remaining: 104 seconds  [████████████████████████████████████████████████████        ]  ⏱️  Time remaining: 103 seconds  [███████████████████████████████████████████████████         ]  ⏱️  Time remaining: 102 seconds  [███████████████████████████████████████████████████         ]  ⏱️  Time remaining: 101 seconds  [██████████████████████████████████████████████████          ]  ⏱️  Time remaining: 100 seconds  [██████████████████████████████████████████████████          ]  ⏱️  Time remaining:  99 seconds  [█████████████████████████████████████████████████           ]  ⏱️  Time remaining:  98 seconds  [█████████████████████████████████████████████████           ]  ⏱️  Time remaining:  97 seconds  [████████████████████████████████████████████████            ]  ⏱️  Time remaining:  96 seconds  [████████████████████████████████████████████████            ]  ⏱️  Time remaining:  95 seconds  [███████████████████████████████████████████████             ]  ⏱️  Time remaining:  94 seconds  [███████████████████████████████████████████████             ]  ⏱️  Time remaining:  93 seconds  [██████████████████████████████████████████████              ]  ⏱️  Time remaining:  92 seconds  [██████████████████████████████████████████████              ]  ⏱️  Time remaining:  91 seconds  [█████████████████████████████████████████████               ]  ⏱️  Time remaining:  90 seconds  [█████████████████████████████████████████████               ]  ⏱️  Time remaining:  89 seconds  [████████████████████████████████████████████                ]  ⏱️  Time remaining:  88 seconds  [████████████████████████████████████████████                ]  ⏱️  Time remaining:  87 seconds  [███████████████████████████████████████████                 ]  ⏱️  Time remaining:  86 seconds  [███████████████████████████████████████████                 ]  ⏱️  Time remaining:  85 seconds  [██████████████████████████████████████████                  ]  ⏱️  Time remaining:  84 seconds  [██████████████████████████████████████████                  ]  ⏱️  Time remaining:  83 seconds  [█████████████████████████████████████████                   ]  ⏱️  Time remaining:  82 seconds  [█████████████████████████████████████████                   ]  ⏱️  Time remaining:  81 seconds  [████████████████████████████████████████                    ]  ⏱️  Time remaining:  80 seconds  [████████████████████████████████████████                    ]  ⏱️  Time remaining:  79 seconds  [███████████████████████████████████████                     ]  ⏱️  Time remaining:  78 seconds  [███████████████████████████████████████                     ]  ⏱️  Time remaining:  77 seconds  [██████████████████████████████████████                      ]  ⏱️  Time remaining:  76 seconds  [██████████████████████████████████████                      ]  ⏱️  Time remaining:  75 seconds  [█████████████████████████████████████                       ]  ⏱️  Time remaining:  74 seconds  [█████████████████████████████████████                       ]  ⏱️  Time remaining:  73 seconds  [████████████████████████████████████                        ]  ⏱️  Time remaining:  72 seconds  [████████████████████████████████████                        ]  ⏱️  Time remaining:  71 seconds  [███████████████████████████████████                         ]  ⏱️  Time remaining:  70 seconds  [███████████████████████████████████                         ]  ⏱️  Time remaining:  69 seconds  [██████████████████████████████████                          ]  ⏱️  Time remaining:  68 seconds  [██████████████████████████████████                          ]  ⏱️  Time remaining:  67 seconds  [█████████████████████████████████                           ]  ⏱️  Time remaining:  66 seconds  [█████████████████████████████████                           ]  ⏱️  Time remaining:  65 seconds  [████████████████████████████████                            ]  ⏱️  Time remaining:  64 seconds  [████████████████████████████████                            ]  ⏱️  Time remaining:  63 seconds  [███████████████████████████████                             ]  ⏱️  Time remaining:  62 seconds  [███████████████████████████████                             ]  ⏱️  Time remaining:  61 seconds  [██████████████████████████████                              ]  ⏱️  Time remaining:  60 seconds  [██████████████████████████████                              ]  ⏱️  Time remaining:  59 seconds  [█████████████████████████████                               ]  ⏱️  Time remaining:  58 seconds  [█████████████████████████████                               ]  ⏱️  Time remaining:  57 seconds  [████████████████████████████                                ]  ⏱️  Time remaining:  56 seconds  [████████████████████████████                                ]  ⏱️  Time remaining:  55 seconds  [███████████████████████████                                 ]  ⏱️  Time remaining:  54 seconds  [███████████████████████████                                 ]  ⏱️  Time remaining:  53 seconds  [██████████████████████████                                  ]  ⏱️  Time remaining:  52 seconds  [██████████████████████████                                  ]  ⏱️  Time remaining:  51 seconds  [█████████████████████████                                   ]  ⏱️  Time remaining:  50 seconds  [█████████████████████████                                   ]  ⏱️  Time remaining:  49 seconds  [████████████████████████                                    ]  ⏱️  Time remaining:  48 seconds  [████████████████████████                                    ]  ⏱️  Time remaining:  47 seconds  [███████████████████████                                     ]  ⏱️  Time remaining:  46 seconds  [███████████████████████                                     ]  ⏱️  Time remaining:  45 seconds  [██████████████████████                                      ]  ⏱️  Time remaining:  44 seconds  [██████████████████████                                      ]  ⏱️  Time remaining:  43 seconds  [█████████████████████                                       ]  ⏱️  Time remaining:  42 seconds  [█████████████████████                                       ]  ⏱️  Time remaining:  41 seconds  [████████████████████                                        ]  ⏱️  Time remaining:  40 seconds  [████████████████████                                        ]  ⏱️  Time remaining:  39 seconds  [███████████████████                                         ]  ⏱️  Time remaining:  38 seconds  [███████████████████                                         ]  ⏱️  Time remaining:  37 seconds  [██████████████████                                          ]  ⏱️  Time remaining:  36 seconds  [██████████████████                                          ]  ⏱️  Time remaining:  35 seconds  [█████████████████                                           ]  ⏱️  Time remaining:  34 seconds  [█████████████████                                           ]  ⏱️  Time remaining:  33 seconds  [████████████████                                            ]  ⏱️  Time remaining:  32 seconds  [████████████████                                            ]  ⏱️  Time remaining:  31 seconds  [███████████████                                             ]  ⏱️  Time remaining:  30 seconds  [███████████████                                             ]  ⏱️  Time remaining:  29 seconds  [██████████████                                              ]  ⏱️  Time remaining:  28 seconds  [██████████████                                              ]  ⏱️  Time remaining:  27 seconds  [█████████████                                               ]  ⏱️  Time remaining:  26 seconds  [█████████████                                               ]  ⏱️  Time remaining:  25 seconds  [████████████                                                ]  ⏱️  Time remaining:  24 seconds  [████████████                                                ]  ⏱️  Time remaining:  23 seconds  [███████████                                                 ]  ⏱️  Time remaining:  22 seconds  [███████████                                                 ]  ⏱️  Time remaining:  21 seconds  [██████████                                                  ]  ⏱️  Time remaining:  20 seconds  [██████████                                                  ]  ⏱️  Time remaining:  19 seconds  [█████████                                                   ]  ⏱️  Time remaining:  18 seconds  [█████████                                                   ]  ⏱️  Time remaining:  17 seconds  [████████                                                    ]  ⏱️  Time remaining:  16 seconds  [████████                                                    ]  ⏱️  Time remaining:  15 seconds  [███████                                                     ]  ⏱️  Time remaining:  14 seconds  [███████                                                     ]  ⏱️  Time remaining:  13 seconds  [██████                                                      ]  ⏱️  Time remaining:  12 seconds  [██████                                                      ]  ⏱️  Time remaining:  11 seconds  [█████                                                       ]  ⏱️  Time remaining:  10 seconds  [█████                                                       ]  ⏱️  Time remaining:   9 seconds  [████                                                        ]  ⏱️  Time remaining:   8 seconds  [████                                                        ]  ⏱️  Time remaining:   7 seconds  [███                                                         ]  ⏱️  Time remaining:   6 seconds  [███                                                         ]  ⏱️  Time remaining:   5 seconds  [██                                                          ]  ⏱️  Time remaining:   4 seconds  [██                                                          ]  ⏱️  Time remaining:   3 seconds  [█                                                           ]  ⏱️  Time remaining:   2 seconds  [█                                                           ]  ⏱️  Time remaining:   1 seconds  [                                                            ]

CLOSING SESSIONS AND CONNECTIONS...
  Connection 1 - Session 1 closed
  Connection 1 - Session 2 closed
  Connection 1 - Session 3 closed
  Connection 1 - Session 4 closed
  Connection 1 - Session 5 closed
  Connection 2 - Session 1 closed
  Connection 2 - Session 2 closed
  Connection 2 - Session 3 closed
  Connection 1 closed
  Connection 2 closed

✅ Test completed successfully!
Base Tracking Key: DUAL-1757429405980
Connection 1 APPLTAG: DUAL-1757429405980-C1
Connection 2 APPLTAG: DUAL-1757429405980-C2
Log file: DUAL_CONNECTION_TEST_1757429405980.log


✅ Test completed!
📁 Detailed log saved to: DUAL_CONNECTION_TEST_1757429405980.log
🔑 Base Tracking Key: DUAL-1757429405980
   Connection 1: DUAL-1757429405980-C1 (6 MQ connections)
   Connection 2: DUAL-1757429405980-C2 (4 MQ connections)
   Total: 10 MQ connections expected
